<!--
~ Copyright 2015 Concept
~
~ Licensed under the Apache License, Version 2.0 (the "License");
~ you may not use this file except in compliance with the License.
~ You may obtain a copy of the License at
~
~ http://www.apache.org/licenses/LICENSE-2.0
~
~ Unless required by applicable law or agreed to in writing, software
~ distributed under the License is distributed on an "AS IS" BASIS,
~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
~ See the License for the specific language governing permissions and
~ limitations under the License.
-->

<!--
This is the base template, which defines the HTML body and head tags.
-->

<head>
  <title>Grand View</title>
</head>

<body>
  {{>notifications}}

  {{> TopNavbar}}

  {{!-- The menu items for right click of root node --}}
  <div class="contextMenu" id="right-click-menu-root">
  	<ul>
  		<li id="add-chapter-node"><span class="glyphicon glyphicon-plus"></span> Legg til kapittel</li>
      {{#if $.Session.equals "showMediaNodes" true }}
        <li id="add-media-node"><span class="glyphicon glyphicon-plus"></span> Legg til informasjonselement</li>
      {{/if}}
      <li id="edit-node"><span class="glyphicon glyphicon-pencil"></span> Rediger</li>
  		<li id="delete-node"><span class="glyphicon glyphicon-remove"></span> Slett</li>
  	</ul>
  </div>

  {{!-- The menu items for right click of chapter node --}}
  <div class="contextMenu" id="right-click-menu-chapter-node">
    <ul>
      <li id="add-chapter-node"><span class="glyphicon glyphicon-plus"></span> Legg til underkapittel</li>
      {{#if $.Session.equals "showMediaNodes" true }}
        <li id="add-media-node"><span class="glyphicon glyphicon-plus"></span> Legg til informasjonselement</li>
      {{/if}}
      <li id="edit-node"><span class="glyphicon glyphicon-pencil"></span> Rediger</li>
      <li id="delete-node"><span class="glyphicon glyphicon-remove"></span> Slett</li>
    </ul>
  </div>

  {{!-- The menu items for right click of media node --}}
  <div class="contextMenu" id="right-click-menu-media-node">
    <ul>
      <li id="edit-node"><span class="glyphicon glyphicon-pencil"></span> Rediger</li>
      <li id="delete-node"><span class="glyphicon glyphicon-remove"></span> Slett</li>
    </ul>
  </div>

  {{> ExportStatus}}
  {{#if $.Session.get "isMoveMode" }}
    {{> MoveStatus}}
  {{/if}}
  {{#if $.Session.get "showMovePopover" }}
    {{> MovePopover}}
  {{/if}}
  {{> SelectTemplateModal}}
  {{> LanguageSelectModal}}
  {{> Clippy}}
</body>

<template name="Clippy">
  <div class="clippy"></div>
</template>

<!--
Export of File Status.
-->
<template name="ExportStatus">
  {{#if $.Session.equals "working" true}}
    <div class="alert alert-success text-center status-bar animated fadeIn text-center" role="alert">
      <p>{{$.Session.get "workingText"}}</p>
    </div>
  {{/if}}
</template>

<!--
Shows the user that the move mode is active.
-->
<template name="MoveStatus">
<div class="panel panel-default move-panel">
  <div class="panel-heading">
    <h3 class="panel-title"><span class="glyphicon glyphicon-move"></span> Flyttemodus</h3>
  </div>
  <div class="panel-body">
    <p>Du er n책 i flyttemodus. For 책 flytte elementene m책 du klikke p책 kapittelet du vil flytte elementene til i kapittelstrukturen.</p>
    <hr>
    <button type="button" class="btn btn-default btn-xs close-move-mode pull-right">Avslutt flyttemodus</button>
  </div>
</div>
</template>
