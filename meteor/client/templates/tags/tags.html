<!--
~ Copyright 2015 Concept
~
~ Licensed under the Apache License, Version 2.0 (the "License");
~ you may not use this file except in compliance with the License.
~ You may obtain a copy of the License at
~
~ http://www.apache.org/licenses/LICENSE-2.0
~
~ Unless required by applicable law or agreed to in writing, software
~ distributed under the License is distributed on an "AS IS" BASIS,
~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
~ See the License for the specific language governing permissions and
~ limitations under the License.
-->

<!--
The Tags view constructor template.
-->
<template name="Tags">
  <div class="structure-header">
    <div class="pull-right btn-group" role="group">
      <button type="button" class="btn btn-default dropdown-toggle menu-button" data-toggle="dropdown" aria-expanded="false">
        <span class="glyphicon glyphicon-option-horizontal"></span>
      </button>
      <ul class="dropdown-menu" role="menu">
        <li><a href="#" class="expand-tags"><span class="glyphicon glyphicon-resize-full"></span> Utvid alle nøkkelord</a></li>
        <li><a href="#" class="collapse-tags"><span class="glyphicon glyphicon-resize-small"></span> Sammentrekk alle nøkkelord</a></li>
        <li role="presentation" class="divider"></li>
        <li><a href="#" class="help-modal-button"><span class="glyphicon glyphicon-question-sign"></span> Hjelp</a></li>
      </ul>
    </div>

    <h4 class="header-text"><span class="glyphicon glyphicon-tags" style="font-size:15px; margin: 0 5px;"></span> Nøkkelord</h4>
  </div>
  {{!-- Start of tags list --}}
  <div id="{{id}}" class="tags structure {{class}}">

    {{#each tags}}
      {{> Tag title=this}}
    {{else}}
      <em>Ingen nøkkelord er tilbundet informasjonselementene enda. Legg til nøkkelord under redigering av informasjonselement.</em>
    {{/each}}

  </div>
</template>

<!--
Renders a Tag
-->
<template name="Tag">
<ul>
    <li class="tag" style="margin-top:0;">

      <span draggable="false" class="element disable-select">
        {{#if isCollapsed}}
          <span class="glyphicon glyphicon-plus-sign show-node"></span>
        {{else}}
          <span class="glyphicon glyphicon-minus-sign hide-node"></span>
        {{/if}}

        {{title}}
      </span>

      {{!-- Render its children if they are visible --}}
      {{#unless isCollapsed}}
        <ul>
          {{#each getNodes}}
            <li class="node" style="margin-top:0;">
              <span draggable="false" class="element disable-select">
                <span class="glyphicon glyphicon-file"></span> {{#if title}}{{title}}{{else}}Uten navn{{/if}}
              </span>
            </li>
          {{/each}}
        </ul>
      {{/unless}}
    </li>

    </ul>
</template>

<!--
Help modal for Tags View.
-->
<template name="TagsHelp">
  I emneknaggstrukturen kan man se hvilke informasjonselement som er knyttet hvilke emneknagger.
</template>
