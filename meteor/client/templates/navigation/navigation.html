<!--
~ Copyright 2015 Concept
~
~ Licensed under the Apache License, Version 2.0 (the "License");
~ you may not use this file except in compliance with the License.
~ You may obtain a copy of the License at
~
~ http://www.apache.org/licenses/LICENSE-2.0
~
~ Unless required by applicable law or agreed to in writing, software
~ distributed under the License is distributed on an "AS IS" BASIS,
~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
~ See the License for the specific language governing permissions and
~ limitations under the License.
-->

<!--
This is the navbar located at the top.
-->
<template name="TopNavbar">
	<div class="navbar navbar-default navbar-fixed-top animated fadeInDown" role="navigation">
    <div class="container-fluid">
      <span class="navbar-brand navbar-right" rel="home" href="#">
        <img src="/images/concept_logo.png" alt="Logoen til Concept">
      </span>

      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <a class="navbar-brand" rel="home" href="/" title="Til forsiden">GrandView</a>
      </div>
      <div class="navbar-collapse collapse">
				<ul class="nav navbar-nav navbar-right toggle-advanced-mode">
					<li class="dropdown">
	          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Bytt modus <span class="caret"></span></a>
	          <ul class="dropdown-menu">
							{{#if $.Session.equals 'mode' 'easy'}}
								<li class="disabled"><a href="#" class="easy-mode"><span class="glyphicon glyphicon-ok green"></span> Forenklet modus</a></li>
							{{else}}
								<li><a href="#" class="easy-mode no-icon">Forenklet modus</a></li>
							{{/if}}

							{{#if $.Session.equals 'mode' 'advanced'}}
								<li class="disabled"><a href="#" class="advanced-mode"><span class="glyphicon glyphicon-ok green"></span> Avansert modus</a></li>
							{{else}}
								<li><a href="#" class="advanced-mode no-icon">Avansert modus</a></li>
							{{/if}}
	          </ul>
	        </li>
				</ul>
        <ul class="nav navbar-nav">
          {{> NavBarButton route='Documents' name='Mine dokumenter'}}
          {{> NavBarButton route='Templates' name='Mine maler'}}
          {{> NavBarButton route='Trash' name='Papirkurv'}}

          {{!-- Add a nav button for the work area --}}

          {{#if isActiveRoute 'Document'}}
            {{> NavBarButton route='Document' name='Arbeidsområde'}}
          {{else}}
            {{#if isActiveRoute 'Template'}}
              {{> NavBarButton route='Template' name='Arbeidsområde'}}
            {{else}}
              {{> NavBarButton route='WorkArea' name='Arbeidsområde'}}
            {{/if}}
          {{/if}}
        </ul>
      </div>
    </div>
  </div>
</template>

<!--
This is the navbar buttons.
-->
<template name="NavBarButton">
  <li class="{{class}} {{activeOnRoute this.route}}" data-toggle="collapse" data-target=".in" id="{{id}}"><a href="{{pathFor this.route}}">{{name}}</a></li>
</template>
