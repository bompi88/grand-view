<!--
~ Copyright 2015 Concept
~
~ Licensed under the Apache License, Version 2.0 (the "License");
~ you may not use this file except in compliance with the License.
~ You may obtain a copy of the License at
~
~ http://www.apache.org/licenses/LICENSE-2.0
~
~ Unless required by applicable law or agreed to in writing, software
~ distributed under the License is distributed on an "AS IS" BASIS,
~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
~ See the License for the specific language governing permissions and
~ limitations under the License.
-->

<!--
This template should render a view that contains a tree structure and a system
for editing of nodes in the tree
-->
<template name="Document">
  <div class="container">

    {{!-- Header --}}
    <div class="row">
      <div class="col-lg-12">
        <div class="pull-left" style="margin-top:25px;">
          <div class="btn btn-warning back-to-dashboard"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> Tilbake til dashbord</div>
        </div>
        <div class="pull-right" style="margin-top:25px;">
          {{> ExportButton currDoc=getDoc}}
        </div>
      </div>
    </div>

    <hr>

    <div class="row">

      {{!-- The tree structure --}}
      <div class="col-xs-4 structure-container">

        {{#if $.Session.equals "structureState" "tree"}}
          {{#Tree tree=this}}
          <!-- <em>Klikk og dra nodene i trestrukturen der du vil ha dem. Klikker man dobbelt på en av nodene, så åpnes
          det en fane til høyre med den valgte informasjonen. Ved bruk av enkeltklikk på nodene, åpnes bare fanen midlertidig.</em> -->
          {{/Tree}}
        {{else}}
          {{#Tags }}
          <!-- <em>I emneknaggstrukturen kan man se hvilke informasjonselement som er knyttet hvilke emneknagger.</em> -->
          {{/Tags}}
        {{/if}}
        <div class="structure-footer">
          <ul class="nav nav-pills nav-justified">
            <li role="presentation" class="show-tree {{#if $.Session.equals 'structureState' 'tree'}}active{{/if}}"><a href="#">Trestruktur</a></li>
            <li role="presentation" class="show-tags {{#if $.Session.equals 'structureState' 'tags'}}active{{/if}}"><a href="#">Emneknagger</a></li>
          </ul>
        </div>
      </div>

      {{!-- The detail view of nodes --}}
      <div class="col-xs-8">
        {{> Tabs}}
        {{#if focusOnMainDoc}}
          {{> GeneralInfo}}
        {{else}}
          {{> NodeDetail}}
        {{/if}}
      </div>

    </div>
  </div>
</template>
